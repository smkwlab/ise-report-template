# 情報科学演習 I,II レポート　テンプレート

- 目次
  - [1.基本的な使い方](#1-基本的な使い方)
  - [2.具体的な作業内容](#2-具体的な作業内容)
    - [2.1 自分用のリモートリポジトリの作成](#21-自分用のリモートリポジトリの作成)
    - [2.2 リポジトリをローカルにコピーし、作業用ワーキングディレクトリを作成](#22-リポジトリをローカルにコピーし作業用ワーキングディレクトリを作成)
    - [2.3 作業用ブランチを作成](#23-作業用ブランチを作成)
    - [2.4 編集作業](#24-編集作業)
  - [3.レポートの書き方 (index.html の更新)](#3-レポートの書き方-indexhtml-の更新)
    - [3.1 情報科学演習x のレポートとしての注意事項](#31-情報科学演習x-のレポートとしての注意事項)
    - [3.2 日本語的な注意事項](#32-日本語的な注意事項)
    - [3.3 HTML的な注意事項](#33-html的な注意事項)
    - [3.4 textlintによるチェック](#34-textlintによるチェック)
    - [3.5 HTML品質検証](#35-html品質検証)
    - [3.6 品質レポートの見方](#36-品質レポートの見方)
  - [4.おまけ](#4-おまけ)

## 1. 基本的な使い方

1. テンプレートリポジトリをコピーして自分のリポジトリーを作る
1. 自分のリポジトリーで、作業用ブランチを作成する
   - 今後、作業用ブランチは下川への提出毎に新たに作成する
1. 作業用ブランチ上でレポートを作成（更新）する
1. 完成したレポートをサーバにアップロードする
1. Pull Request を送る
1. 提出したので、次の作業用ブランチを作成する
1. 下川から OK のリプライが来たら終了。NG だった場合は、下川からのリプライにしたがって、6. で作成した**新しい作業用ブランチ**上でレポートを更新(3. に戻る)

## 2. 具体的な作業内容

### 2.1 自分用のリモートリポジトリの作成

1. ブラウザで[このリポジトリー](https://github.com/smkwlab/ise-report-template)にアクセスし `Use this template`  ボタンをクリック
1. リポジトリ作成画面になる
   - `Owner` は `smkwlab` のまま
   - `Repository name` は、 `k99rs999-ise-report1` のように自分の学籍番号を入れ、さらに情報科学演習I(あるいはII)のレポートであることが分かるような名前にする
     - 前期の **情報科学演習I** と後期の **情報科学演習II** では別のリポジトリーを作る
   - 公開範囲は `Private` のまま
1. `Create repository from template` ボタンをクリック

### 2.2 リポジトリをローカルにコピーし、作業用ワーキングディレクトリを作成

1. 作成されたリポジトリーの画面で `Code` ボタンをクリック
1. `Open with GitHub Desktop` をクリック
1. 自分のPCでリポジトリーを置くディレクトリを確認して `Clone` ボタンをクリック

### 2.3 作業用ブランチを作成

1. GitHub Desktop で![Current Branch](GitHubDesktop-branch.png)ボタンをクリック
1. `New Branch` ボタンをクリック
1. `Name` を **1st-draft** とする。*草稿第1版*という意味
1. `Create Branch` ボタンをクリック
1. `Publish branch` ボタンをクリック
1. 先程の `Current Branch`が、`main` ではなく `1st-draft` に変わっていることを確認

### 2.4 編集作業

1. 現在の草稿用ブランチが選択されていることを確認して index.html を編集
   - `Open in Visual Studio Code` をクリックして VS Code で作業
   - このとき、VS Code の左下に、ブランチの名前が表示されている
   - 必要に応じて別のファイル（画像など）を追加したり、スタイルファイルを変更して良い
2. VS Code のプレビューなどで、問題ないことを確認したら、GitHub Desktop で commit
3. `Push origin` をクリックして、リモートリポジトリーに Push
4. 作成したレポートを www-st のレポートのディレクトリにアップロードする
   1. アップロードには `WinSCP` などを利用する
   2. 学外からアップロードする際には `KIND VPN` を利用する
   3. アップロードするディレクトリは、自分のホームディレクトリ/public_html/semi3a/ （後期は semi3b）
   4. ブラウザで、正常に閲覧できることを確認
5. `Create Pull Request` をクリックして、**Pull Request** を作成
6. ブラウザが開くので、`Title` に **現在のブランチ名** を記述
   - `Title` はデフォルトでなんらかの文字列が入っているが、それは削除する。
   - **現在のブランチ名** とは、最初であれば `1st-draft` であり、２回めであれば `2nd-draft`になるはず
7. `Write` タブに変更点などを記述
8. `Create pull request` ボタンをクリック
9. 次の草稿用に新しいブランチを作成する
   1. `Current Branch` ボタンをクリック
   2. `New Branch` ボタンをクリック
   3. `Name` を **2nd-draft** など、次の版であることが分かる名前にする
   4. 下の `Create branch based on...` は直前の草稿のブランチ (次が `2nd-draft` なら前は `1st-draft`) を選択
   5. `Create branch` ボタンをクリック
   6. `Publish branch` ボタンをクリック
10. 下川からの返事を待つ
11. 返事の内容は、リモートリポジトリの `Pull Requests` タブの中にある
    - そこにも見当たらなければ `1 Closed` のようなリンクをクリックすると見えるはず
    - 見当たらなければ下川に問い合わせる
    - 下川は、添削結果を返信する際に、皆さんの草稿用ブランチの内容を main ブランチに反映させる作業(merge) もしている
    - したがって、返信が来たときには、リポジトリ上の main ブランチは提出した草稿と同じ内容に更新されている
12. OK ならば以下の通り
    - 最終版の原稿に `final` というタグを打つ
      - GitHub Desktop の `History` で一番上にある履歴を右クリック
      - `Create Tag...` をクリック
      - `Name` に **final** と入力し `Create Tag` ボタンをクリック
      - タグがローカルに保存された後、GitHub Desktopの右上にある`Push`ボタンをクリックしてリモートリポジトリにPush
    - 提出終了。お疲れ様。
13. NG ならば現在の草稿上で編集 (1. に戻る)

## 3. レポートの書き方 (index.html の更新)

### 3.1 情報科学演習x のレポートとしての注意事項

- 情報科学演習I のレポートにおけるプログラミングテストに関する記述では、すべての問題について記述すること
- 情報科学演習II のレポートにおいては、チームメンバーについても記述すること

### 3.2 日本語的な注意事項

- である体で書くこと
- 長い文を書かず、適切に文を分割すること
  - 「が」で続けるのは良くない
- 適切な内容で段落を分割すること
- 文の途中に箇条書きを入れないこと
- すべての図や表は本文中で参照すること
- まとめは感想ではない。
  - 今後の課題を除いて、それ以前の本文で記述されていないことを、まとめに書いてはいけない

### 3.3 HTML的な注意事項

- title 要素と h1 要素にレポートのタイトルを記述
- header 要素中の author クラスが指定された p 要素に著者情報を記述
- 報告書本体は h2 以下のレベル (h2, h3, h4,...) で構造を作る
  各 hX 要素には自動で採番される
  - h2 の構成については、このまま変更なしで問題ないと思われる
- 日本語のレポートらしくするために p 要素については先頭行の行頭に空白が入るようにしてある
  - しかし、これが気に入らない場合はスタイルを変更してよい
- 図や表にはキャプションを入れる。入れ方は[sample-index.html](sample-index.html)を参考にすること
- プログラムを記述する際には、< の後に空白を入れるように注意すること。空白がないと HTML の開始タグと誤認識され表示が乱れる。
- 段落を書くときも、1文1行で記述すること
  - 差分が見やすいし、編集指示も出しやすい

### 3.4 textlintによるチェック

このリポジトリは`textlint`による機械的な表記のチェック機能をインストール済み。情報科学演習用に最適化された設定で、学術レポートの品質向上を支援する。

1. `VS Code`でファイルを保存すると`問題`ウィンドウに`textlint`の実行結果が表示される
2. 指摘内容にしたがって文章を推敲すること
3. **新機能**: 情報科学演習特有の用語（プログラミング、アルゴリズム等）が適切に処理される
4. **新機能**: 技術文書向けに文章長制限を120文字に調整済み
5. **新機能**: URL・メールアドレスは文章長チェックから除外される

### 3.5 HTML品質検証

Pull Request作成時に自動的にHTML品質検証が実行される。

**検証項目:**
- **W3C HTML5準拠チェック**: 標準的なHTML構文の検証
- **HTMLHint品質チェック**: セマンティックHTMLの推奨事項
- **アクセシビリティチェック**: 画像のalt属性、見出し構造の確認
- **CSS構文チェック**: スタイルファイルの基本的な構文検証

**確認方法:**
1. Pull Request作成後、`Actions`タブで検証結果を確認
2. 検証完了後、PR画面下部に品質レポートが自動生成される
3. ⚠️ 警告がある場合は、指摘内容を確認して修正すること

### 3.6 品質レポートの見方

Pull Request作成時に以下の情報を含む詳細レポートが生成される。

**📊 HTML Quality Report**
- **検証結果**: 各品質チェックの実行状況
- **ファイル分析**: 処理されたHTMLファイル数、CSSファイル数
- **品質ガイドライン**: 改善のための具体的な指針
- **設定ファイル**: 使用している品質設定の説明

**対応方法:**
- ✅マークの項目: 問題なし
- ⚠️マークの項目: 確認・修正推奨
- エラーが表示された場合: 該当箇所を修正して再提出

## 4. おまけ

### 4.1 自動PDF生成機能

Pull Request を発行すると、index.html を PDF 化したファイルを自動生成し、
GitHub 上の [Release](../../releases) に配置する。
ただし、このリポジトリにおいては、ほぼ意味がない機能である。
[卒業論文テンプレート](https://github.com/smkwlab/sotsuron-template)では、同様に Pull Request を発行すると tex ファイルから PDF を自動生成する。

### 4.2 品質保証システム

このテンプレートには、高品質なレポート作成を支援するシステムが組み込まれている。

- **HTML品質検証** (.htmlhintrc): W3C準拠とアクセシビリティの自動検証
- **textlint** (.textlintrc): 情報科学演習特化の日本語学術文書検証
- **自動品質レポート**: Pull Request時の品質フィードバック
